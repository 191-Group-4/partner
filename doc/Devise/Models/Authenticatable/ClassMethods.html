<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Devise::Models::Authenticatable::ClassMethods - RDoc Documentation</title>

<link href="../../../fonts.css" rel="stylesheet">
<link href="../../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../";
</script>

<script src="../../../js/jquery.js"></script>
<script src="../../../js/navigation.js"></script>
<script src="../../../js/search_index.js"></script>
<script src="../../../js/search.js"></script>
<script src="../../../js/searcher.js"></script>
<script src="../../../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-devise_parameter_filter">#devise_parameter_filter</a>
    
    <li ><a href="#method-i-find_first_by_auth_conditions">#find_first_by_auth_conditions</a>
    
    <li ><a href="#method-i-find_for_authentication">#find_for_authentication</a>
    
    <li ><a href="#method-i-http_authenticatable-3F">#http_authenticatable?</a>
    
    <li ><a href="#method-i-params_authenticatable-3F">#params_authenticatable?</a>
    
    <li ><a href="#method-i-serialize_from_session">#serialize_from_session</a>
    
    <li ><a href="#method-i-serialize_into_session">#serialize_into_session</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Devise::Models::Authenticatable::ClassMethods">
  <h1 id="module-Devise::Models::Authenticatable::ClassMethods" class="module">
    module Devise::Models::Authenticatable::ClassMethods
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-find_first_by_auth_conditions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_first_by_auth_conditions</span><span
            class="method-args">(tainted_conditions, opts={})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="find_first_by_auth_conditions-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_first_by_auth_conditions</span>(<span class="ruby-identifier">tainted_conditions</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">to_adapter</span>.<span class="ruby-identifier">find_first</span>(<span class="ruby-identifier">devise_parameter_filter</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">tainted_conditions</span>).<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">opts</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_for_authentication" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_for_authentication</span><span
            class="method-args">(tainted_conditions)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Find first record based on conditions given (ie by the sign in form). This
method is always called during an authentication process but it may be
wrapped as well. For instance, database authenticatable provides a
`find_for_database_authentication` that wraps a call to this method. This
allows you to customize both database authenticatable or the whole
authenticate stack by customize `find_for_authentication.`</p>

<p>Overwrite to add customized conditions, create a join, or maybe use a
namedscope to filter records while authenticating. Example:</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">find_for_authentication</span>(<span class="ruby-identifier">tainted_conditions</span>)
  <span class="ruby-identifier">find_first_by_auth_conditions</span>(<span class="ruby-identifier">tainted_conditions</span>, <span class="ruby-identifier">active</span><span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>Finally, notice that Devise also queries for users in other scenarios
besides authentication, for example when retrieving an user to send an
e-mail for password reset. In such cases, <a
href="ClassMethods.html#method-i-find_for_authentication">#find_for_authentication</a>
is not called.</p>
          
          

          
          <div class="method-source-code" id="find_for_authentication-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_for_authentication</span>(<span class="ruby-identifier">tainted_conditions</span>)
  <span class="ruby-identifier">find_first_by_auth_conditions</span>(<span class="ruby-identifier">tainted_conditions</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-http_authenticatable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">http_authenticatable?</span><span
            class="method-args">(strategy)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="http_authenticatable-3F-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 217</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">http_authenticatable?</span>(<span class="ruby-identifier">strategy</span>)
  <span class="ruby-identifier">http_authenticatable</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span>
    <span class="ruby-identifier">http_authenticatable</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">strategy</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">http_authenticatable</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-params_authenticatable-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">params_authenticatable?</span><span
            class="method-args">(strategy)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="params_authenticatable-3F-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 212</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">params_authenticatable?</span>(<span class="ruby-identifier">strategy</span>)
  <span class="ruby-identifier">params_authenticatable</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>) <span class="ruby-operator">?</span>
    <span class="ruby-identifier">params_authenticatable</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">strategy</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">params_authenticatable</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-serialize_from_session" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">serialize_from_session</span><span
            class="method-args">(key, salt)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="serialize_from_session-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 207</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">serialize_from_session</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">salt</span>)
  <span class="ruby-identifier">record</span> = <span class="ruby-identifier">to_adapter</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-identifier">record</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">record</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">record</span>.<span class="ruby-identifier">authenticatable_salt</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">salt</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-serialize_into_session" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">serialize_into_session</span><span
            class="method-args">(record)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="serialize_into_session-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 203</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">serialize_into_session</span>(<span class="ruby-identifier">record</span>)
  [<span class="ruby-identifier">record</span>.<span class="ruby-identifier">to_key</span>, <span class="ruby-identifier">record</span>.<span class="ruby-identifier">authenticatable_salt</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-devise_parameter_filter" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">devise_parameter_filter</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="devise_parameter_filter-source">
            <pre><span class="ruby-comment"># File lib/devise/models/authenticatable.rb, line 278</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">devise_parameter_filter</span>
  <span class="ruby-ivar">@devise_parameter_filter</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Devise</span><span class="ruby-operator">::</span><span class="ruby-constant">ParameterFilter</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">case_insensitive_keys</span>, <span class="ruby-identifier">strip_whitespace_keys</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

